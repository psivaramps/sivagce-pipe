pipeline {
 agent any 

	stages {
	
		stage ('Credential-gcp') {
		 	steps { 
			sh 'gcloud config set account gcp-sivaram'
			
			sh 'gcloud auth activate-service-account gcpsivaram@gcp-sivaram.iam.gserviceaccount.com --key-file=/var/lib/jenkins/workspace/new-gcs-bucket/gcp-sivaram-f75dd4b3f349.json --project=gcp-sivaram'
			}
		}
				
		stage ('Creating a Bucket') {
			steps {
			sh 'gsutil mb -p gcp-sivaram -c nearline -l us-east1 -b on gs://pipelinebucket'
			
			}
		}

		stage ('list the buckets') {
			steps {
			sh 'gsutil ls'
			}
		}
		stage ('To Display the size of bucket') {
			steps {
			sh 'gsutil du -s gs://pipelinebucket'
			}
		}
		
		stage ('To Display Bucket Metadata') {
			steps {
			sh 'gsutil ls -L -b gs://pipelinebucket'
			}
		}
		stage ('To List the Objects in Bucket') {
			steps {
			sh 'gsutil ls -r gs://pipelinebucket'
			}
		}
		
		stage ('To copy the Objects in Bucket') {
			steps {
			sh 'gsutil cp  gs://siva-simple-bucket/dsktp.jpg  gs://pipelinebucket/dsktp1.jp'
			}
		}
	
	}
	}
